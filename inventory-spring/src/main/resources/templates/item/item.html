<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Inventory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>

<div class="container">

    <div class="d-flex align-items-center my-5">
        <h3>
            모니터
        </h3>

        <a href="#" class="btn btn-danger ms-auto">삭제</a>
        <a href="#" class="btn btn-primary ms-3" th:href="@{/items/{itemId}/update(itemId=${itemId})}">수정</a>
        <a href="#" class="btn btn-primary ms-3" th:href="@{/}">목록</a>
    </div>

    <form action="#">
        <div class="mb-3">
            <label class="form-label">분류</label>
            <input class="form-control" type="text" value="전자기기" disabled readonly th:value="${item.category.name}">
        </div>

        <div class="mb-3">
            <label for="name" class="form-label">제품명</label>
            <input id="name" class="form-control" type="text" value="모니터" disabled readonly th:value="${item.name}">
        </div>

        <div class="mb-3">
            <label for="quantity" class="form-label">수량</label>
            <input id="quantity" class="form-control" type="number" value="0" disabled readonly th:value="${item.quantity}">
        </div>

        <div class="mb-5">
            <label for="unit" class="form-label">단위</label>
            <input id="unit" class="form-control" type="text" value="개" disabled readonly th:value="${item.unit}">
        </div>
    </form>

    <span>입출고 로그</span>
    <form action="#" class="row gx-1 mt-2 align-items-center">
        <div class="col-auto">
            <input type="text" id="startDatepicker" class="form-control">
        </div>
        <div class="col-auto">
            ~
        </div>
        <div class="col-auto">
            <input type="text" id="endDatepicker" class="form-control">
        </div>
        <div class="col-auto">
            <button type="submit" class="btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search"
                 viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
        </button>
        </div>
    </form>

    <table class="table table-hover text-center">
        <thead>
        <tr>
            <th scope="col" width="10%">날짜</th>
            <th scope="col" width="15%">분류</th>
            <th scope="col" width="35%">제품명</th>
            <th scope="col" width="10%">수량</th>
            <th scope="col" width="10%">단위</th>
            <th scope="col" width="10%">입/출</th>
            <th scope="col" width="10%"></th>
        </tr>
        </thead>
        <tbody class="table-group-divider">
        <tr th:each="movement : ${logPage.content}">
            <td th:text="${#temporals.format(movement.createdDate, 'yyyy-MM-dd')}">2000-01-01</td>
            <td th:text="${movement.item.category.name}">전자기기</td>
            <td th:text="${movement.item.name}">모니터</td>
            <td th:text="${movement.quantity}">3</td>
            <td th:text="${movement.item.unit}">개</td>
            <td th:text="${movement.type.displayName}">입고</td>
            <td><a href="#" class="btn btn-primary" th:href="@{/movement/{movementId}/update(movementId=${movement.id})}">수정</a></td>
        </tr>
        </tbody>
    </table>

    <nav aria-label="Page navigation" th:if="${logPage.totalPages > 1}">
        <ul class="pagination justify-content-center"
            th:with="max=5, start=${(logPage.number / max) * max + 1}, end=${(logPage.totalPages == 0 ? 1 : (start + (max - 1) < logPage.totalPages ? start + (max - 1) : logPage.totalPages))}">
            <li class="page-item" th:if="${start > max}">
                <a class="page-link" href="#" aria-label="Previous" th:href="@{/items/{itemId}(itemId=${itemId}, page=${start - max})}">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>

            <li class="page-item" th:each="num : ${#numbers.sequence(start, end)}">
                <a class="page-link" href="#" th:text="${num}" th:href="@{/items/{itemId}(itemId=${itemId}, page=${num - 1})}" th:classappend="${num == logPage.number + 1 ? 'active' : ''}">1</a>
            </li>

            <li class="page-item" th:if="${end < logPage.totalPages}">
                <a class="page-link" href="#" aria-label="Next" th:href="@{/items/{itemId}(itemId=${itemId}, page=${start + max})}">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

<script>
    $(document).ready(function() {
        $("#startDatepicker").datepicker();
        $("#endDatepicker").datepicker();
    })
</script>
</body>
</html>